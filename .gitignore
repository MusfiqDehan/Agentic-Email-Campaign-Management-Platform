# Byte-compiled / optimized / DLL files
__pycache__/

















































































































































































































esac        ;;        usage        print_error "Unknown command: $COMMAND"    *)        ;;        fi            print_info "Restore cancelled"        else            print_info "Database restored successfully"            docker-compose -f $COMPOSE_FILE exec -T db psql -U postgres -d $DB_NAME < $BACKUP_FILE            print_info "Restoring database..."        if [[ $REPLY =~ ^[Yy][Ee][Ss]$ ]]; then        read -p "Are you sure? (yes/no): " -r        print_warning "This will restore database from: $BACKUP_FILE"                fi            DB_NAME="email_campaign_prod_db"        else            DB_NAME="email_campaign_dev_db"        elif [ "$ENV" = "dev" ]; then            DB_NAME="email_campaign_db"        if [ "$ENV" = "local" ]; then                fi            exit 1            print_error "Backup file not found: $BACKUP_FILE"        if [ ! -f "$BACKUP_FILE" ]; then        BACKUP_FILE=$1                fi            exit 1            echo "Usage: $0 $ENV restore <backup_file>"            print_error "Please provide backup file path"        if [ -z "$1" ]; then    restore)        ;;        print_info "Backup completed: $BACKUP_FILE"        docker-compose -f $COMPOSE_FILE exec -T db pg_dump -U postgres $DB_NAME > $BACKUP_FILE        print_info "Creating backup: $BACKUP_FILE"                fi            DB_NAME="email_campaign_prod_db"        else            DB_NAME="email_campaign_dev_db"        elif [ "$ENV" = "dev" ]; then            DB_NAME="email_campaign_db"        if [ "$ENV" = "local" ]; then                BACKUP_FILE="$BACKUP_DIR/backup_${ENV}_$(date +%Y%m%d_%H%M%S).sql"        mkdir -p $BACKUP_DIR        BACKUP_DIR="backups"    backup)        ;;        docker-compose -f $COMPOSE_FILE ps    ps)        ;;        docker-compose -f $COMPOSE_FILE exec web python manage.py test $@    test)        ;;        docker-compose -f $COMPOSE_FILE exec web python manage.py collectstatic --noinput    collectstatic)        ;;        docker-compose -f $COMPOSE_FILE exec web python manage.py createsuperuser    createsuperuser)        ;;        docker-compose -f $COMPOSE_FILE exec web python manage.py makemigrations $@    makemigrations)        ;;        docker-compose -f $COMPOSE_FILE exec web python manage.py migrate $@    migrate)        ;;        docker-compose -f $COMPOSE_FILE exec db psql -U postgres -d $DB_NAME        fi            DB_NAME="email_campaign_prod_db"        else            DB_NAME="email_campaign_dev_db"        elif [ "$ENV" = "dev" ]; then            DB_NAME="email_campaign_db"        if [ "$ENV" = "local" ]; then    dbshell)        ;;        docker-compose -f $COMPOSE_FILE exec web python manage.py shell    shell)        ;;        docker-compose -f $COMPOSE_FILE logs -f $@    logs)        ;;        docker-compose -f $COMPOSE_FILE restart $@    restart)        ;;        docker-compose -f $COMPOSE_FILE down $@    down)        ;;        docker-compose -f $COMPOSE_FILE up $@    up)case $COMMAND inprint_info "Running command '$COMMAND' for environment '$ENV'"check_env_file $ENVvalidate_env $ENVCOMPOSE_FILE=$(get_compose_file $ENV)shift 2COMMAND=$2ENV=$1fi    usageif [ $# -lt 2 ]; then# Main script}    fi        fi            exit 1            print_error ".env.example not found!"        else            print_info "$env_file created. Please update it with your configuration."            cp .env.example "$env_file"        if [ -f ".env.example" ]; then        print_warning "$env_file not found. Creating from .env.example..."    if [ ! -f "$env_file" ]; then    local env_file=".env.$1"check_env_file() {# Check if .env file exists}    echo "docker-compose.$1.yml"get_compose_file() {# Get docker-compose file for environment}    esac            ;;            usage            print_error "Invalid environment: $1"        *)            ;;            return 0        local|dev|prod)    case $1 invalidate_env() {# Check if environment is valid}    exit 1EOF    $0 dev backup               # Backup dev database    $0 local shell              # Open Django shell locally    $0 prod migrate             # Run migrations in production    $0 dev logs web             # View web service logs in dev    $0 local up --build         # Build and start local environmentEXAMPLES:    restore     Restore database from backup    backup      Backup database    ps          Show running containers    test        Run Django tests    collectstatic   Collect static files    createsuperuser Create Django superuser    makemigrations  Create new migrations    migrate     Run Django migrations    dbshell     Open PostgreSQL shell    shell       Open Django shell    logs        View container logs (add service name for specific logs)    restart     Restart containers    down        Stop and remove containers    up          Start containers (add --build to rebuild)COMMANDS:    prod        Production environment    dev         Development server environment    local       Local development environmentENVIRONMENTS:Usage: $0 [ENVIRONMENT] [COMMAND] [OPTIONS]Docker Environment Manager for Email Campaign Platform    cat << EOFusage() {# Display usage}    echo -e "${YELLOW}[WARNING]${NC} $1"print_warning() {}    echo -e "${RED}[ERROR]${NC} $1"print_error() {}    echo -e "${GREEN}[INFO]${NC} $1"print_info() {# Function to print colored outputNC='\033[0m' # No ColorYELLOW='\033[1;33m'GREEN='\033[0;32m'RED='\033[0;31m'# Colors for outputset -e# Usage: ./docker-manage.sh [environment] [command]# Docker Environment Manager for Email Campaign Platform*.py[codz]
*$py.class

# C extensions
*.so

# Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
share/python-wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# PyInstaller
#  Usually these files are written by a python script from a template
#  before PyInstaller builds the exe, so as to inject date/other infos into it.
*.manifest
*.spec

# Installer logs
pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py.cover
.hypothesis/
.pytest_cache/
cover/

# Translations
*.mo
*.pot

# Django stuff:
*.log
local_settings.py
db.sqlite3
db.sqlite3-journal
/staticfiles/
/media/
/logs/
*.sql
backups/

# Flask stuff:
instance/
.webassets-cache

# Scrapy stuff:
.scrapy

# Sphinx documentation
docs/_build/

# PyBuilder
.pybuilder/
target/

# Jupyter Notebook
.ipynb_checkpoints

# IPython
profile_default/
ipython_config.py

# pyenv
#   For a library or package, you might want to ignore these files since the code is
#   intended to run in multiple environments; otherwise, check them in:
# .python-version

# pipenv
#   According to pypa/pipenv#598, it is recommended to include Pipfile.lock in version control.
#   However, in case of collaboration, if having platform-specific dependencies or dependencies
#   having no cross-platform support, pipenv may install dependencies that don't work, or not
#   install all needed dependencies.
#Pipfile.lock

# UV
#   Similar to Pipfile.lock, it is generally recommended to include uv.lock in version control.
#   This is especially recommended for binary packages to ensure reproducibility, and is more
#   commonly ignored for libraries.
#uv.lock

# poetry
#   Similar to Pipfile.lock, it is generally recommended to include poetry.lock in version control.
#   This is especially recommended for binary packages to ensure reproducibility, and is more
#   commonly ignored for libraries.
#   https://python-poetry.org/docs/basic-usage/#commit-your-poetrylock-file-to-version-control
#poetry.lock
#poetry.toml

# pdm
#   Similar to Pipfile.lock, it is generally recommended to include pdm.lock in version control.
#   pdm recommends including project-wide configuration in pdm.toml, but excluding .pdm-python.
#   https://pdm-project.org/en/latest/usage/project/#working-with-version-control
#pdm.lock
#pdm.toml
.pdm-python
.pdm-build/

# pixi
#   Similar to Pipfile.lock, it is generally recommended to include pixi.lock in version control.
#pixi.lock
#   Pixi creates a virtual environment in the .pixi directory, just like venv module creates one
#   in the .venv directory. It is recommended not to include this directory in version control.
.pixi

# PEP 582; used by e.g. github.com/David-OConnor/pyflow and github.com/pdm-project/pdm
__pypackages__/

# Celery stuff
celerybeat-schedule
celerybeat.pid

# SageMath parsed files
*.sage.py

# Environments
.env
.env.local
.env.dev
.env.prod
.envrc
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# Spyder project settings
.spyderproject
.spyproject

# Rope project settings
.ropeproject

# mkdocs documentation
/site

# mypy
.mypy_cache/
.dmypy.json
dmypy.json

# Pyre type checker
.pyre/

# pytype static type analyzer
.pytype/

# Cython debug symbols
cython_debug/

# PyCharm
#  JetBrains specific template is maintained in a separate JetBrains.gitignore that can
#  be found at https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore
#  and can be added to the global gitignore or merged into this file.  For a more nuclear
#  option (not recommended) you can uncomment the following to ignore the entire idea folder.
#.idea/

# Abstra
# Abstra is an AI-powered process automation framework.
# Ignore directories containing user credentials, local state, and settings.
# Learn more at https://abstra.io/docs
.abstra/

# Visual Studio Code
#  Visual Studio Code specific template is maintained in a separate VisualStudioCode.gitignore 
#  that can be found at https://github.com/github/gitignore/blob/main/Global/VisualStudioCode.gitignore
#  and can be added to the global gitignore or merged into this file. However, if you prefer, 
#  you could uncomment the following to ignore the entire vscode folder
# .vscode/

# Ruff stuff:
.ruff_cache/

# PyPI configuration file
.pypirc

# Cursor
#  Cursor is an AI-powered code editor. `.cursorignore` specifies files/directories to
#  exclude from AI features like autocomplete and code analysis. Recommended for sensitive data
#  refer to https://docs.cursor.com/context/ignore-files
.cursorignore
.cursorindexingignore

# Marimo
marimo/_static/
marimo/_lsp/
__marimo__/
